<div>
  <form [formGroup]="questForm" (ngSubmit)="save()">
    <div class="form-group" *ngIf="!props.id || props.owner === userID">
      <input type="checkbox" id="isPrivate" formControlName="isPrivate">
      <label for="isPrivate">Verborgen</label>
    </div>
    <div class="form-group">
      <select id="type" formControlName="type" required>
        <option [ngValue]="type.key" *ngFor="let type of questTypes; let i = index">
          {{type.value}}
        </option>
      </select>
      <label for="type">Art *</label>
    </div>
    <div class="form-group">
      <input type="text" id="name" formControlName="name" required>
      <label for="name">Name *</label>
    </div>
    <div class="form-group">
      <select id="parentId" formControlName="parentId">
        <option [value]="null">Nichts</option>
        <option [ngValue]="quest.id" *ngFor="let quest of quests$ | async" [disabled]="quest.id === props.id">
          {{quest.name}}
        </option>
      </select>
      <label for="parentId">Teil von</label>
    </div>
    <div class="form-group" *ngIf="!props.id || props.owner === userID">
      <input type="checkbox" id="completed" formControlName="completed">
      <label for="completed">Abgeschlossen</label>
    </div>
    <div class="form-group">
      <textarea type="text" id="description" formControlName="description"></textarea>
      <label for="description">Beschreibung</label>
    </div>

    <button type="submit" class="btn" [disabled]="!questForm.valid">
      Speichern
    </button>
  </form>
</div>
